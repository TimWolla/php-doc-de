<?xml version="1.0" encoding="utf-8"?>
<!-- $Revision$ -->
<!-- EN-Revision: 55089a115125366b79adbd0f99299d53e561fc10 Maintainer: samesch Status: ready -->
<!-- Reviewed: no -->
<chapter xml:id="mysqlnd.stats" xmlns="http://docbook.org/ns/docbook" xmlns:xi="http://www.w3.org/2001/XInclude">
 <title>Statistiken</title>

 <para>
  Der MySQL Native Driver bietet die Möglichkeit, Statistiken über die
  Kommunikation zwischen Client und Server zu sammeln. Es gibt zwei Arten von
  Statistiken:
  <itemizedlist>
   <listitem>
    <simpara>Client-Statistiken</simpara>
   </listitem>
   <listitem>
    <simpara>Verbindungsstatistiken</simpara>
   </listitem>
  </itemizedlist>
 </para>
 <para>
  Wenn die Erweiterung <link linkend="book.mysqli">mysqli</link> verwendet
  wird, können diese Statistiken über zwei API-Aufrufe abgerufen werden:
  <itemizedlist>
   <listitem>
    <simpara><function>mysqli_get_client_stats</function></simpara>
   </listitem>
   <listitem>
    <simpara><function>mysqli_get_connection_stats</function></simpara>
   </listitem>
  </itemizedlist>
 </para>

 <note>
  <simpara>
   Die Statistiken werden für alle Erweiterungen zusammengefasst, die den
   MySQL Native Driver verwenden. Wenn zum Beispiel sowohl die Erweiterung
   <link linkend="book.mysqli">mysqli</link> als auch der PDO-MySQL-Treiber so
   konfiguriert sind, dass sie MySQLnd verwenden, dann wirken sich die
   Funktionsaufrufe von <link linkend="book.mysqli">mysqli</link> und die
   Methodenaufrufe von PDO auf die Statistik aus.
  </simpara>
  <simpara>
   Es gibt keine Möglichkeit, herauszufinden, wie sehr ein bestimmter
   API-Aufruf einer Erweiterung, die gegen den MySQL Native Driver kompiliert
   wurde, eine bestimmte Statistik beeinflusst hat.
  </simpara>
 </note>

 <section xml:id="mysqlnd.stats.retrieve" annotations="chunk:false">
  <title>Statistiken abrufen</title>

  <simpara>
   Auf die Client-Statistiken kann mit der Funktion
   <function>mysqli_get_client_stats</function> zugegriffen werden.
  </simpara>

  <simpara>
   Auf die Verbindungstatistiken kann mit der Funktion
   <function>mysqli_get_connection_stats</function> zugegriffen werden.
  </simpara>

  <simpara>
   Beide Funktionen geben ein assoziatives Array zurück, wobei der Name einer
   Statistik der Schlüssel für die zugehörigen statistischen Daten ist.
  </simpara>
 </section>

 <section xml:id="mysqlnd.stats.statistics" annotations="chunk:false">
  <title>Statistiken vom MySQL Native Driver</title>
  <simpara>
   Die meisten Statistiken beziehen sich auf eine Verbindung, aber manche
   beziehen sich auf den Prozess; in diesem Fall wird darauf hingewiesen.
   <!-- Process running the server? -->
  </simpara>
  <simpara>
   Die folgenden Statistiken werden vom MySQL Native Driver erstellt:
  </simpara>

  <variablelist>
   <title>Netzwerkbezogene Statistiken</title>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-sent">
    <term><literal>bytes_sent</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der von PHP an den MySQL-Server gesendeten Bytes.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received">
    <term><literal>bytes_received</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der vom MySQL-Server empfangenen Bytes.
     </simpara>
    </listitem>
   </varlistentry>
   <varlistentry xml:id="mysqlnd.stats.statistics.packets-sent">
    <term><literal>packets_sent</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der vom MySQL-Client-Server-Protokoll gesendeten Pakete.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received">
    <term><literal>packets_received</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der vom MySQL-Client-Server-Protokoll empfangenen Pakete.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.protocol-overhead-in">
    <term><literal>protocol_overhead_in</literal></term>
    <listitem>
     <simpara>
      Der Overhead des MySQL-Client-Server-Protokolls für eingehenden
      Datenverkehr in Bytes. Derzeit wird nur der Paket-Header (4 Bytes) als
      Overhead betrachtet.
      <code>protocol_overhead_in = packets_received * 4</code>
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.protocol-overhead-out">
    <term><literal>protocol_overhead_out</literal></term>
    <listitem>
     <simpara>
      Der Overhead des MySQL-Client-Server-Protokolls für ausgehenden
      Datenverkehr in Bytes. Derzeit wird nur der Paket-Header (4 Bytes) als
      Overhead betrachtet.
      <code>protocol_overhead_out = packets_received * 4</code>
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-ok-packet">
    <term><literal>bytes_received_ok_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      OK-Pakete in Bytes. Die OK-Pakete können eine Statusmeldung enthalten,
      deren Länge variieren kann, weshalb die Größe eines OK-Pakets nicht
      festgelegt ist.
     </simpara>
     <note>
      <simpara>
       Die Gesamtgröße in Bytes enthält die Größe des Header-Pakets
       (4 Bytes, siehe Protokoll-Overhead).
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-ok">
    <term><literal>packets_received_ok</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen
      OK-Pakete.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-eof-packet">
    <term><literal>bytes_received_eof_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      EOF-Pakete in Bytes. Die Größe von EOF kann je nach Serverversion
      variieren. Außerdem kann EOF eine Fehlermeldung enthalten.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-eof">
    <term><literal>packets_received_eof</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen
      EOF-Pakete.
     </simpara>
     <simpara>
      Wie bei anderen Paketstatistiken erhöht sich die Anzahl der Pakete auch
      dann, wenn PHP nicht das erwartete Paket, sondern &zb; eine
      Fehlermeldung empfängt.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-rset-header-packet">
    <term><literal>bytes_received_rset_header_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      Header-Pakete der Ergebnismenge in Bytes.
      Die Größe der Pakete variiert in Abhängigkeit von der Nutzlast
      (<literal>LOAD LOCAL INFILE</literal>, <literal>INSERT</literal>,
      <literal>UPDATE</literal>, <literal>SELECT</literal>, Fehlermeldung).
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-rset-header">
    <term><literal>packets_received_rset_header</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen
      Header-Pakete der Ergebnismenge.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-rset-field-meta-packet">
    <term><literal>bytes_received_rset_field_meta_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      Metadaten-Pakete (Spalteninformationen) der Ergebnismenge in Bytes.
      Die Größe hängt natürlich von den Feldern in der Ergebnismenge ab. Im
      Fall von COM_LIST_FIELDS kann das Paket auch eine Fehlermeldung oder ein
      EOF-Paket enthalten.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-rset-field-meta">
    <term><literal>packets_received_rset_field_meta</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen
      Metadaten-Pakete (Spalteninformationen) der Ergebnismenge.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-rset-row-packet">
    <term><literal>bytes_received_rset_row_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      Pakete mit den Zeilendaten der Ergebnismenge in Bytes.
      Das Paket kann auch eine Fehlermeldung oder ein EOF-Paket enthalten. Die
      Anzahl der Fehlermeldungen und EOF-Pakete können ermittelt werden, indem
      <literal>rows_fetched_from_server_normal</literal> und
      <literal>rows_fetched_from_server_ps</literal> von
      <literal>bytes_received_rset_row_packet</literal> abgezogen werden.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-rset-row">
    <term><literal>packets_received_rset_row</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen Pakete
      mit den Zeilendaten der Ergebnismenge.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-prepare-response-packet">
    <term><literal>bytes_received_prepare_response_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der Pakete für die Initialisierung vorbereiteter
      Anweisungen (prepared statement init packets), die vom
      MySQL-Client-Server-Protokoll als OK zurückgegeben werden, in Bytes.
      Diese Pakete können auch Fehlermeldungen enthalten.
      Die Größe der Pakete hängt von der MySQL-Version ab.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-prepare-response">
    <term><literal>packets_received_prepare_response</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Pakete für die Initialisierung vorbereiteter Anweisungen
      (prepared statement init packets), die vom MySQL-Client-Server-Protokoll
      als OK zurückgegeben werden.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-change-user-packet">
    <term><literal>bytes_received_change_user_packet</literal></term>
    <listitem>
     <simpara>
      Die Gesamtgröße der mit dem MySQL-Client-Server-Protokoll empfangenen
      COM_CHANGE_USER-Pakete in Bytes.
      Ein Paket kann auch eine Fehlermeldung oder ein EOF enthalten.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.bytes-received-ok-packet')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-received-change-user">
    <term><literal>packets_received_change_user</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der mit dem MySQL-Client-Server-Protokoll empfangenen
      COM_CHANGE_USER-Pakete.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.packets-sent-command">
    <term><literal>packets_sent_command</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Befehle des MySQL-Client-Server-Protokolls, die von PHP
      an MySQL gesendet wurden.
     </simpara>
     <simpara>
      Es gibt keine Möglichkeit herauszufinden, welche spezifischen Befehle
      gesendet wurden und wie viele davon.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-real-data_normal">
    <term><literal>bytes_received_real_data_normal</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Bytes an Nutzdaten, die der PHP-Client über das
      Textprotokoll von <literal>mysqlnd</literal> abgerufen hat.
     </simpara>
     <simpara>
      Dies ist die Größe der tatsächlichen Daten, die in den Ergebnismengen
      enthalten sind, die vom PHP-Client abgerufen wurden und nicht aus
      vorbereiteten Anweisungen stammen.
     </simpara>
     <simpara>
      Zu beachten ist, dass, obwohl eine vollständige Ergebnismenge von
      <literal>mysqlnd</literal> aus MySQL abgerufen wurde, diese Statistik
      nur die tatsächlichen Daten zählt, die vom PHP-Client aus
      <literal>mysqlnd</literal> abgerufen wurden.
     </simpara>
     <para>
      Das folgende Beispiel zeigt eine Codesequenz, die den Wert erhöht:
      <programlisting>
<![CDATA[
$mysqli = new mysqli();
$res = $mysqli->query("SELECT 'abc'");
$res->fetch_assoc();
$res->close();
]]>
      </programlisting>
      Jeder Abrufvorgang erhöht den Wert.
     </para>
     <para>
      Die Statistik wird jedoch nicht erhöht, wenn die Ergebnismenge auf dem
      Client nur gepuffert, aber nicht abgerufen wird, wie im folgenden
      Beispiel:
      <programlisting>
<![CDATA[
$mysqli = new mysqli();
$res = $mysqli->query("SELECT 'abc'");
$res->close();
]]>
      </programlisting>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bytes-received-real-data-ps">
    <term><literal>bytes_received_real_data_ps</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Bytes an Nutzdaten, die der PHP-Client über das Protokoll
      für vorbereitete Anweisungen von <literal>mysqlnd</literal> abgerufen hat.
     </simpara>
     <simpara>
      Dies ist die Größe der tatsächlichen Daten, die in den Ergebnismengen
      enthalten sind, die vom PHP-Client abgerufen wurden und aus
      vorbereiteten Anweisungen stammen.
     </simpara>
     <simpara>
      Der Wert erhöht sich nur dann, wenn die Ergebnismenge anschließend vom
      PHP-Client gelesen wird.
     </simpara>
     <simpara>
      Zu beachten ist, dass, obwohl eine vollständige Ergebnismenge von
      <literal>mysqlnd</literal> aus MySQL abgerufen wurde, diese Statistik
      nur die tatsächlichen Daten zählt, die vom PHP-Client aus
      <literal>mysqlnd</literal> abgerufen wurden.
     </simpara>
     <simpara>
      Siehe auch <literal>bytes_received_real_data_normal</literal>.
     </simpara>
    </listitem>
   </varlistentry>
  </variablelist>

  <variablelist>
   <title>Statistiken zu Ergebnismengen</title>

   <varlistentry xml:id="mysqlnd.stats.statistics.result-set-queries">
    <term><literal>result_set_queries</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Abfragen, die eine Ergebnismenge erzeugt haben.
      Beispiele für Abfragen, die eine Ergebnismenge erzeugen:
      <literal>SELECT</literal>, <literal>SHOW</literal>.
     </simpara>
     <simpara>
      Die Statistik wird nicht erhöht, wenn beim Lesen des Header-Pakets einer
      Zeile der Ergebnismenge ein Fehler aufgetreten ist.
     </simpara>
     <note>
      <simpara>
       Diese Statistik kann als indirektes Maß für die Anzahl der von PHP an
       MySQL gesendeten Anfragen verwendet werden. Dies kann helfen, einen
       Client zu identifizieren, der eine hohe Datenbanklast verursacht.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.non-result-set-queries">
    <term><literal>non_result_set_queries</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Abfragen, die keine Ergebnismenge erzeugt haben.
      Beispiele für Abfragen, die keine Ergebnismenge erzeugen:
      <literal>INSERT</literal>, <literal>UPDATE</literal>, <literal>LOAD DATA</literal>.
     </simpara>
     <simpara>
      Die Statistik wird nicht erhöht, wenn beim Lesen des Header-Pakets einer
      Zeile der Ergebnismenge ein Fehler aufgetreten ist.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.result-set-queries')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.no-index-used">
    <term><literal>no_index_used</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Abfragen, die eine Ergebnismenge erzeugt, aber keinen
      Index verwendet haben (siehe auch die mysqld-Startoption
      <literal>--log-queries-not-using-indexes</literal>).
     </simpara>
     <note>
      <simpara>
       Solche Anfragen können als Exception gemeldet werden, indem
       <code>mysqli_report(MYSQLI_REPORT_INDEX);</code> aufgerufen wird.
       Es ist möglich, sie stattdessen als Warnung zu melden, indem
       <code>mysqli_report(MYSQLI_REPORT_INDEX ^ MYSQLI_REPORT_STRICT);</code>
       aufgerufen wird.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.bad-index-used">
    <term><literal>bad_index_used</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Abfragen, die eine Ergebnismenge erzeugt, aber keinen
      guten Index verwendet haben (siehe auch die mysqld-Startoption
      <literal>--log-slow-queries</literal>).
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.no-index-used')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.slow-queries">
    <term><literal>slow_queries</literal></term>
    <listitem>
     <simpara>
      SQL-Anweisungen, deren Ausführung länger als
      <literal>long_query_time</literal> Sekunden dauerte und bei denen
      mindestens <literal>min_examined_row_limit</literal> Zeilen untersucht
      werden mussten.
     </simpara>
     <caution>
      <simpara>
       Wird von <function>mysqli_report</function> nicht gemeldet.
      </simpara>
     </caution>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.buffered-sets">
    <term><literal>buffered_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der gepufferten Ergebnismengen, die von normalen Abfragen
      (&dh; nicht über eine vorbereitete Anweisung) zurückgegeben wurden.
     </simpara>
     <para>
      Beispiele für API-Aufrufe, die Ergebnismengen auf dem Client puffern:
      <simplelist type="inline">
       <member><function>mysqli_query</function></member>
       <member><function>mysqli_store_result</function></member>
       <member><function>mysqli_stmt_get_result</function></member>
      </simplelist>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.unbuffered-sets">
    <term><literal>unbuffered_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der ungepufferten Ergebnismengen, die von normalen Abfragen
      (&dh; nicht über eine vorbereitete Anweisung) zurückgegeben wurden.
     </simpara>
     <para>
      Ein Beispiel für API-Aufrufe, die keine Ergebnismengen auf dem Client
      puffern:
      <simplelist type="inline">
       <member><function>mysqli_use_result</function></member>
      </simplelist>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.ps-buffered-sets">
    <term><literal>ps_buffered_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der gepufferten Ergebnismengen, die von vorbereiteten
      Anweisungen zurückgegeben wurden.
     </simpara>
     <para>
      Ein Beispiel für API-Aufrufe, die Ergebnismengen auf dem Client puffern:
      <simplelist type="inline">
       <member><function>mysqli_stmt_store_result</function></member>
      </simplelist>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.ps-unbuffered-sets">
    <term><literal>ps_unbuffered_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der ungepufferten Ergebnismengen, die von vorbereiteten
      Anweisungen zurückgegeben wurden.
     </simpara>
     <simpara>
      In der Standardeinstellung werden vorbereitete Anweisungen nicht
      gepuffert, sodass die meisten vorbereiteten Anweisungen in dieser
      Statistik enthalten sind.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.flushed-normal-sets">
    <term><literal>flushed_normal_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Ergebnismengen, die von normalen Abfragen (&dh; nicht
      über eine vorbereitete Anweisung) zurückgegeben wurden, mit ungelesenen
      Daten, die stillschweigend geleert wurden..
     </simpara>
     <note>
      <simpara>
       Die Bereinigung (Flushing) erfolgt nur bei ungepufferten Ergebnismengen.
      </simpara>
      <simpara>
       Ungepufferte Ergebnismengen müssen vollständig abgerufen werden, bevor
       eine neue Abfrage über die Verbindung ausgeführt werden kann, sonst
       gibt MySQL einen Fehler aus. Wenn eine Anwendung nicht alle Zeilen aus
       einer ungepufferten Ergebnismenge abruft, ruft mysqlnd die
       Ergebnismenge implizit ab, um die Verbindung freizugeben.
      </simpara>
      <simpara>
       Siehe auch <literal>rows_skipped_normal</literal>,
       <literal>rows_skipped_ps</literal>.
      </simpara>
      <para>
       Ein paar mögliche Ursachen für einen impliziten Flush:
       <itemizedlist>
        <listitem>
         <simpara>
          Eine fehlerhafte Client-Anwendung
         </simpara>
        </listitem>
        <listitem>
         <simpara>
          Der Client hat aufgehört, Zeilen abzurufen, weil er gefunden hat,
          wonach er gesucht hat, aber die Ergebnismenge wurde noch nicht
          vollständig abgerufen
         </simpara>
        </listitem>
        <listitem>
         <simpara>
          Die Client-Anwendung wurde unerwartet beendet
         </simpara>
        </listitem>
       </itemizedlist>
      </para>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.flushed-ps-sets">
    <term><literal>flushed_ps_sets</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Ergebnismengen vorbereiteter Anweisungen mit ungelesenen
      Daten, die stillschweigend geleert wurden.
     </simpara>
     <xi:include xpointer="xmlns(db=http://docbook.org/ns/docbook) xpointer(id('mysqlnd.stats.statistics.flushed-normal-sets')/db:listitem/db:note)">
      <xi:fallback/>
     </xi:include>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.ps-prepared-never-executed">
    <term><literal>ps_prepared_never_executed</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der vorbereiteten, aber nie ausgeführten Anweisungen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.ps-prepared-once-executed">
    <term><literal>ps_prepared_once_executed</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der vorbereiteten Anweisungen, die nur einmal ausgeführt
      wurden.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-server-normal">
    <term><literal>rows_fetched_from_server_normal</literal></term>
    <term><literal>rows_fetched_from_server_ps</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen der Ergebnismenge, die vom Server abgerufen
      wurden. Dazu gehören auch die Zeilen, die nicht vom Client gelesen
      wurden, sondern implizit aus geleerten ungepufferten Ergebnismengen
      abgerufen wurden.
     </simpara>
     <simpara>
      Siehe auch <literal>packets_received_rset_row</literal>.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-buffered-from-server-normal">
    <term><literal>rows_buffered_from_client_normal</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der gepufferten Zeilen, die von einer normalen Abfrage
      stammen.
     </simpara>
     <simpara>
      Dies ist die Anzahl der Zeilen, die von MySQL abgerufen und auf dem
      Client gepuffert wurden.
     </simpara>
     <para>
      Beispiele für Abfragen, die Ergebnisse puffern:
      <simplelist>
       <member><function>mysqli_query</function></member>
       <member><function>mysqli_store_result</function></member>
      </simplelist>
     </para>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-buffered-from-server-ps">
    <term><literal>rows_buffered_from_server_ps</literal></term>
    <listitem>
     <simpara>
      Wie <literal>rows_buffered_from_client_normal</literal>, aber für
      vorbereitete Anweisungen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-client-normal-buffered">
    <term><literal>rows_fetched_from_client_normal_buffered</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen, die der Client aus einer gepufferten Ergebnismenge
      abgerufen hat, die durch eine normale Abfrage erstellt wurde.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-client-ps-buffered">
    <term><literal>rows_fetched_from_client_ps_buffered</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen, die der Client aus einer gepufferten Ergebnismenge
      abgerufen hat, die durch eine vorbereitete Anweisung erstellt wurde.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-client-normal-unbuffered">
    <term><literal>rows_fetched_from_client_normal_unbuffered</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen, die der Client aus einer ungepufferten
      Ergebnismenge abgerufen hat, die durch eine normale Abfrage erstellt
      wurde.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-client-ps-unbuffered">
    <term><literal>rows_fetched_from_client_ps_unbuffered</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen, die der Client aus einer ungepufferten
      Ergebnismenge abgerufen hat, die durch eine vorbereitete Anweisung
      erstellt wurde.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.rows-fetched-from-client-ps-cursor">
    <term><literal>rows_fetched_from_client_ps_cursor</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Zeilen, die der Client von einem durch eine vorbereitete
      Anweisung erstellten Zeiger (Cursor) abgerufen hat.
     </simpara>
    </listitem>
   </varlistentry>

   <!-- TODO: This seems to actually be supported, check and document -->
   <varlistentry xml:id="mysqlnd.stats.statistics.rows-skipped-normal">
    <term><literal>rows_skipped_normal</literal></term>
    <term><literal>rows_skipped_ps</literal></term>
    <listitem>
     <simpara>
      Für zukünftige Verwendung reserviert (wird derzeit nicht unterstützt).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.copy-on-write">
    <term><literal>copy_on_write_saved</literal></term>
    <term><literal>copy_on_write_performed</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Bei mysqlnd zeigen die von den Erweiterungen zurückgegebenen Variablen
      auf die internen Netzwerk-Ergebnispuffer von mysqlnd. Wenn die Daten
      nicht verändert werden, werden die abgerufenen Daten nur einmal im
      Speicher gehalten. Werden die Daten jedoch verändert, muss mysqlnd ein
      Copy-on-Write (Kopieren beim Schreiben) durchführen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.free-result">
    <term><literal>explicit_free_result</literal></term>
    <term><literal>implicit_free_result</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Verbindungs- und die Prozessebene.
     </simpara>
     <simpara>
      Die Anzahl der freigegebenen Ergebnismengen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-null">
    <term><literal>proto_text_fetched_null</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_NULL</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-null">
    <term><literal>proto_binary_fetched_null</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_NULL</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-bit">
    <term><literal>proto_text_fetched_bit</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_BIT</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-bit">
    <term><literal>proto_binary_fetched_bit</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_BIT</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-tinyint">
    <term><literal>proto_text_fetched_tinyint</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TINY</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-tinyint">
    <term><literal>proto_binary_fetched_tinyint</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TINY</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-short">
    <term><literal>proto_text_fetched_short</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_SHORT</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-short">
    <term><literal>proto_binary_fetched_short</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_SHORT</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-int24">
    <term><literal>proto_text_fetched_int24</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_INT24</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-int24">
    <term><literal>proto_binary_fetched_int24</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_INT24</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-int">
    <term><literal>proto_text_fetched_int</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_LONG</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-int">
    <term><literal>proto_binary_fetched_int</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_LONG</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-bigint">
    <term><literal>proto_text_fetched_bigint</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_LONGLONG</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-bigint">
    <term><literal>proto_binary_fetched_bigint</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_LONGLONG</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-decimal">
    <term><literal>proto_text_fetched_decimal</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DECIMAL</literal> oder <literal>MYSQL_TYPE_NEWDECIMAL</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-decimal">
    <term><literal>proto_binary_fetched_decimal</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DECIMAL</literal> oder <literal>MYSQL_TYPE_NEWDECIMAL</literal>,
      die aus einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-float">
    <term><literal>proto_text_fetched_float</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_FLOAT</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-float">
    <term><literal>proto_binary_fetched_float</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_FLOAT</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-double">
    <term><literal>proto_text_fetched_double</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DOUBLE</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-double">
    <term><literal>proto_binary_fetched_double</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DOUBLE</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-date">
    <term><literal>proto_text_fetched_date</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DATE</literal> oder <literal>MYSQL_TYPE_NEWDATE</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-date">
    <term><literal>proto_binary_fetched_date</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DATE</literal> oder <literal>MYSQL_TYPE_NEWDATE</literal>,
      die aus einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-year">
    <term><literal>proto_text_fetched_year</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_YEAR</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-year">
    <term><literal>proto_binary_fetched_year</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_YEAR</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-time">
    <term><literal>proto_text_fetched_time</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TIME</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-time">
    <term><literal>proto_binary_fetched_time</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TIME</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-datetime">
    <term><literal>proto_text_fetched_datetime</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DATETIME</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-datetime">
    <term><literal>proto_binary_fetched_datetime</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_DATETIME</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-timestamp">
    <term><literal>proto_text_fetched_timestamp</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TIMESTAMP</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-timestamp">
    <term><literal>proto_binary_fetched_timestamp</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TIMESTAMP</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-string">
    <term><literal>proto_text_fetched_string</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_STRING</literal>, <literal>MYSQL_TYPE_VARSTRING</literal> oder <literal>MYSQL_TYPE_VARCHAR</literal>
      fetched from a normal query (MySQL text protocol).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-string">
    <term><literal>proto_binary_fetched_string</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_STRING</literal>, <literal>MYSQL_TYPE_VARSTRING</literal> oder <literal>MYSQL_TYPE_VARCHAR</literal>
      fetched from a prepared statement (MySQL binary protocol).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-blob">
    <term><literal>proto_text_fetched_blob</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TINY_BLOB</literal>,
      <literal>MYSQL_TYPE_MEDIUM_BLOB</literal>,
      <literal>MYSQL_TYPE_LONG_BLOB</literal> oder
      <literal>MYSQL_TYPE_BLOB</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-blob">
    <term><literal>proto_binary_fetched_blob</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_TINY_BLOB</literal>,
      <literal>MYSQL_TYPE_MEDIUM_BLOB</literal>,
      <literal>MYSQL_TYPE_LONG_BLOB</literal> oder
      <literal>MYSQL_TYPE_BLOB</literal> die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-enum">
    <term><literal>proto_text_fetched_enum</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_ENUM</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-enum">
    <term><literal>proto_binary_fetched_enum</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_ENUM</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-set">
    <term><literal>proto_text_fetched_set</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_SET</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-set">
    <term><literal>proto_binary_fetched_set</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_SET</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-geometry">
    <term><literal>proto_text_fetched_geometry</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_GEOMETRY</literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-geometry">
    <term><literal>proto_binary_fetched_geometry</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten des Typs
      <literal>MYSQL_TYPE_GEOMETRY</literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-text-fetched-other">
    <term><literal>proto_text_fetched_other</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten eines zuvor nicht aufgelisteten Typs
      <literal>MYSQL_TYPE_<replaceable>*</replaceable></literal>,
      die aus einer normalen Abfrage abgerufen wurden (MySQL-Textprotokoll).
     </simpara>
     <note>
      <simpara>
       Theoretisch sollte dies immer <literal>0</literal> sein.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.proto-binary-fetched-other">
    <term><literal>proto_binary_fetched_other</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Spalten eines zuvor nicht aufgelisteten Typs
      <literal>MYSQL_TYPE_<replaceable>*</replaceable></literal>, die aus
      einer vorbereiteten Anweisung abgerufen wurden (MySQL-Binärprotokoll).
     </simpara>
     <note>
      <simpara>
       Theoretisch sollte dies immer <literal>0</literal> sein.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

  </variablelist>

  <variablelist>
   <title>Verbindungsbezogene Statistiken</title>

   <varlistentry xml:id="mysqlnd.stats.statistics.connect-success">
    <term><literal>connect_success</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der erfolgreichen Verbindungsversuche.
     </simpara>
     <note>
      <simpara>
       <literal>connect_success</literal> enthält die Summe der erfolgreichen
       Versuche, persistente und nicht-persistente Verbindungen herzustellen.
       Die Anzahl der erfolgreichen Versuche, eine nicht-persistente
       Verbindung herzustellen, ist also
       <literal>connect_success - pconnect_success</literal>.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.pconnect-success">
    <term><literal>pconnect_success</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der erfolgreichen Versuche, eine persistente (dauerhafte)
      Verbindung herzustellen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.connect-failure">
    <term><literal>connect_failure</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der fehlgeschlagenen Verbindungsversuche.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.reconnect">
    <term><literal>reconnect</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.active-connections">
    <term><literal>active_connections</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Die Anzahl der aktiven Verbindungen (persistent und nicht-persistent).
     </simpara>
     <note>
      <simpara>
       Die Anzahl der aktiven nicht-persistenten Verbindungen ist
       <literal>active_connections - active_persistent_connections</literal>.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.active-persistent-connections">
    <term><literal>active_persistent_connections</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Die Anzahl der aktiven persistenten Verbindungen.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.explicit-close">
    <term><literal>explicit_close</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der explizit geschlossenen Verbindungen.
     </simpara>
     <example>
      <title>Beispiele für Codeschnipsel, die zu einem expliziten Schließen führen</title>
      <itemizedlist>
       <listitem>
        <programlisting>
<![CDATA[
$link = new mysqli(/* ... */);
$link->close(/* ... */);
]]>
        </programlisting>
       </listitem>
       <listitem>
        <programlisting>
<![CDATA[
$link = new mysqli(/* ... */);
$link->connect(/* ... */);
]]>
        </programlisting>
       </listitem>
      </itemizedlist>
     </example>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.implicit-close">
    <term><literal>implicit_close</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der implizit geschlossenen Verbindungen.
     </simpara>
     <example>
      <title>Beispiele für Codeschnipsel, die zu einem impliziten Schließen führen</title>
      <itemizedlist>
       <listitem>
        <programlisting>
<![CDATA[
$link = new mysqli(/* ... */);
$link->real_connect(/* ... */);
]]>
        </programlisting>
       </listitem>
       <listitem>
        <programlisting>
         <code>unset($link)</code>
        </programlisting>
       </listitem>
       <listitem>
        <simpara>
         Persistente Verbindung: eine gepoolte Verbindung wurde mit
         real_connect erstellt und es können unbekannte Optionen gesetzt sein
         - implizites Schließen, um die Rückgabe einer Verbindung mit
         unbekannten Optionen zu vermeiden
        </simpara>
       </listitem>
       <listitem>
        <simpara>
         Persistente Verbindung: ping/change_user schlägt fehl und ext/mysqli
         schließt die Verbindung
        </simpara>
       </listitem>
       <listitem>
        <simpara>
         Am Ende der Skriptausführung: Schließen der Verbindungen, die noch
         nicht vom Benutzer geschlossen wurden
        </simpara>
       </listitem>
      </itemizedlist>
     </example>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.disconnect-close">
    <term><literal>disconnect_close</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der fehlgeschlagenen Verbindungen, die der C-API-Aufruf
      <literal>mysql_real_connect</literal> beim Versuch, eine Verbindung
      aufzubauen, meldet.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.in-middle-of-command-close">
    <term><literal>in_middle_of_command_close</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Eine Verbindung wurde mitten in der Ausführung eines Befehls geschlossen
      (noch nicht abgerufene Ergebnismengen, nachdem eine Abfrage gesendet und
      bevor eine Antwort abgerufen wurde, während Daten abgerufen wurden,
      während Daten mit LOAD DATA übertragen wurden).
     </simpara>
     <warning>
      <simpara>
       Sofern keine asynchronen Abfragen verwendet werden, sollte dies nur
       passieren, wenn ein Skript unerwartet gestoppt wird und PHP die
       Verbindungen automatisch schließt.
      </simpara>
     </warning>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.init-command-executed-count">
    <term><literal>init_command_executed_count</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der ausgeführten init-Befehle,
      zum Beispiel <code>mysqli_options(MYSQLI_INIT_COMMAND , $value)</code>.
     </simpara>
     <simpara>
      Die Anzahl der erfolgreichen Ausführungen ist
      <literal>init_command_executed_count - init_command_failed_count</literal>.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.init-command-failed-count">
    <term><literal>init_command_failed_count</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der fehlgeschlagenen init-Befehle.
     </simpara>
    </listitem>
   </varlistentry>
  </variablelist>

  <variablelist>
   <title>Statistiken im Zusammenhang mit dem <literal>COM_*</literal>-Befehl</title>

   <varlistentry xml:id="mysqlnd.stats.statistics.com">
    <term><literal>com_quit</literal></term>
    <term><literal>com_init_db</literal></term>
    <term><literal>com_query</literal></term>
    <term><literal>com_field_list</literal></term>
    <term><literal>com_create_db</literal></term>
    <term><literal>com_drop_db</literal></term>
    <term><literal>com_refresh</literal></term>
    <term><literal>com_shutdown</literal></term>
    <term><literal>com_statistics</literal></term>
    <term><literal>com_process_info</literal></term>
    <term><literal>com_connect</literal></term>
    <term><literal>com_process_kill</literal></term>
    <term><literal>com_debug</literal></term>
    <term><literal>com_ping</literal></term>
    <term><literal>com_time</literal></term>
    <term><literal>com_delayed_insert</literal></term>
    <term><literal>com_change_user</literal></term>
    <term><literal>com_binlog_dump</literal></term>
    <term><literal>com_table_dump</literal></term>
    <term><literal>com_connect_out</literal></term>
    <term><literal>com_register_slave</literal></term>
    <term><literal>com_stmt_prepare</literal></term>
    <term><literal>com_stmt_execute</literal></term>
    <term><literal>com_stmt_send_long_data</literal></term>
    <term><literal>com_stmt_close</literal></term>
    <term><literal>com_stmt_reset</literal></term>
    <term><literal>com_stmt_set_option</literal></term>
    <term><literal>com_stmt_fetch</literal></term>
    <term><literal>com_daemon</literal></term>
    <listitem>
     <simpara>
      Die Anzahl der Versuche, einen bestimmten
      <literal>COM_*</literal>-Befehl von PHP an MySQL zu senden.
     </simpara>
     <simpara>
      Die Statistik wird erhöht, nachdem die Zeile geprüft wurde und
      unmittelbar bevor das entsprechende MySQL-Client-Server-Protokoll-Paket
      gesendet wird.
     </simpara>
     <caution>
      <simpara>
       Die Statistik wird nicht nach unten korrigiert, wenn MySQLnd das Paket
       nicht über die Leitung senden kann. Im Falle eines Fehlers gibt MySQLnd
       die PHP-Warnung <quote>Error while sending %s packet. PID=%d.</quote>
       aus.
      </simpara>
     </caution>

     <example>
      <title>Beispiele für die Verwendung</title>
      <itemizedlist>
       <listitem>
        <para>
         Überprüfen, ob PHP bestimmte Befehle an MySQL sendet, zum Beispiel,
         ob ein Client <literal>COM_PROCESS_KILL</literal> sendet
        </para>
       </listitem>
       <listitem>
        <para>
         Berechnen der durchschnittlichen Anzahl der ausgeführten
         vorbereiteten Anweisungen durch Vergleich von
         <literal>COM_EXECUTE</literal> und <literal>COM_PREPARE</literal>
        </para>
       </listitem>
       <listitem>
        <para>
         Überprüfen, ob PHP nicht-vorbereitete SQL-Anweisungen ausgeführt
         hat, indem kontrolliert wird, ob <literal>COM_QUERY</literal> Null
         ist
        </para>
       </listitem>
       <listitem>
        <para>
         Erkennen von PHP-Skripten, die eine zu große Anzahl von
         SQL-Anweisungen ausführen, indem <literal>COM_QUERY</literal> und
         <literal>COM_EXECUTE</literal> überprüft werden
        </para>
       </listitem>
      </itemizedlist>
     </example>
    </listitem>
   </varlistentry>
  </variablelist>

  <variablelist>
   <title>Sonstige Statistiken</title>

   <varlistentry xml:id="mysqlnd.stats.statistics.stmt-close">
    <term><literal>explicit_stmt_close</literal></term>
    <term><literal>implicit_stmt_close</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Die Anzahl der abgeschlossenen vorbereiteten Anweisungen.
     </simpara>
     <note>
      <simpara>
       Eine vorbereitete Anweisung wird immer explizit abgeschlossen. Sie wird
       nur dann implizit abgeschlossen, wenn ihre Vorbereitung fehlschlägt.
      </simpara>
     </note>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.memory-management">
    <term><literal>mem_emalloc_count</literal></term>
    <term><literal>mem_emalloc_ammount</literal></term>
    <term><literal>mem_ecalloc_count</literal></term>
    <term><literal>mem_ecalloc_ammount</literal></term>
    <term><literal>mem_realloc_count</literal></term>
    <term><literal>mem_realloc_ammount</literal></term>
    <term><literal>mem_efree_count</literal></term>
    <term><literal>mem_malloc_count</literal></term>
    <term><literal>mem_malloc_ammount</literal></term>
    <term><literal>mem_calloc_count</literal></term>
    <term><literal>mem_calloc_ammount</literal></term>
    <term><literal>mem_ealloc_count</literal></term>
    <term><literal>mem_ealloc_ammount</literal></term>
    <term><literal>mem_free_count</literal></term>
    <listitem>
     <simpara>
      Diese Statistik bezieht sich auf die Prozessebene.
     </simpara>
     <simpara>
      Die Anzahl der Aufrufe bezüglich der Speicherverwaltung.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.command-buffer-too-small">
    <term><literal>command_buffer_too_small</literal></term>
    <!-- TODO: XInclude/sync description of INI setting
     ini.mysqlnd.net-cmd-buffer-size with this statistic -->
    <!-- Folgendes wird also ggf. noch benötigt:
     Die voreingestellte Puffergröße beträgt 4096 Bytes, was der
     kleinstmögliche Wert ist. Dieser Wert kann entweder in der
     <filename>php.ini</filename> durch die Einstellung
     <literal>mysqlnd.net_cmd_buffer_size</literal> geändert werden oder
     durch <literal>mysqli_options(MYSQLI_OPT_NET_CMD_BUFFER_SIZE, int
     size)</literal>. -->
    <listitem>
     <simpara>
      Die Anzahl der Erweiterungen des Netzwerk-Befehlspuffers, wenn PHP einen
      Befehl an MySQL sendet.
     </simpara>
     <simpara>
      MySQLnd weist jeder Verbindung einen internen Befehls-/Netzwerkpuffer von
      <link linkend="ini.mysqlnd.net-cmd-buffer-size">mysqlnd.net_cmd_buffer_size</link>
      Bytes zu.
     </simpara>
     <simpara>
      Wenn ein Befehl des MySQL-Client-Server-Protokolls, &zb;
      <literal>COM_QUERY</literal> (normale Abfrage), nicht in den Puffer
      passt, vergrößert MySQLnd den Puffer auf die Größe, die zum Senden des
      Befehls erforderlich ist. Jedes Mal, wenn der Puffer für eine Verbindung
      vergrößert wird, wird <literal>command_buffer_too_small</literal> um
      eins erhöht.
     </simpara>
     <simpara>
      Wenn MySQLnd den Puffer bei fast jeder Verbindung über seine anfängliche
      Größe von
      <link linkend="ini.mysqlnd.net-cmd-buffer-size">mysqlnd.net_cmd_buffer_size</link>
      Bytes hinaus vergrößern muss, sollte in Erwägung gezogen werden, die
      Standardgröße zu erhöhen, um Neuzuweisungen zu vermeiden.
     </simpara>
    </listitem>
   </varlistentry>

   <varlistentry xml:id="mysqlnd.stats.statistics.connection-reused">
    <term><literal>connection_reused</literal></term>
    <listitem>
     <simpara>
      Die Anzahl, wie oft eine persistente Verbindung insgesamt
      wiederverwendet wurde.
     </simpara>
    </listitem>
   </varlistentry>
  </variablelist>
 </section>
</chapter>
<!-- Keep this comment at the end of the file
Local variables:
mode: sgml
sgml-omittag:t
sgml-shorttag:t
sgml-minimize-attributes:nil
sgml-always-quote-attributes:t
sgml-indent-step:1
sgml-indent-data:t
indent-tabs-mode:nil
sgml-parent-document:nil
sgml-default-dtd-file:"~/.phpdoc/manual.ced"
sgml-exposed-tags:nil
sgml-local-catalogs:nil
sgml-local-ecat-files:nil
End:
vim600: syn=xml fen fdm=syntax fdl=2 si
vim: et tw=78 syn=sgml
vi: ts=1 sw=1
-->
